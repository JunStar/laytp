
    //查看
    public function index(){
        if( $this->request->isAjax() ){
            $where = $this->build_params();
            $limit = $this->request->param('limit');
            $data = $this->model
                {%with_relation%}
                ->where($where)->order('id desc')->paginate($limit)->toArray();
            $data['data'] = $this->prettifyList($data['data']);
            return layui_table_page_data($data);
        }
        return $this->fetch();
    }